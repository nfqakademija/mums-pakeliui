{% extends 'base.html.twig' %}

{% block content %}
    <!--============================= DETAIL =============================-->

            <!--================= SEARCH ====================-->
            <div class="row search-wrap">

                    {{ form_start(form, {attr: {class: 'form-wrap'}}) }}
                <div class="col d-flex flex-row flex-wrap">
                        <div class="p-2">
                            <div class="btn-group" role="group">
                                {% for key, travelerTypeItem in form.travelerType %}
                                    {% if (app.request.get('travelerType') == 0) and (key == 0)%}
                                        {{ form_widget(travelerTypeItem, {attr: {class: 'form-check form-check-inline', 'checked': 'checked'}}) }}
                                    {% endif %}
                                    {% if (app.request.get('travelerType') == 1) and (key == 1)%}
                                        {{ form_widget(travelerTypeItem, {attr: {class: 'form-check form-check-inline', 'checked': 'checked'}}) }}
                                    {% else %}
                                        {{ form_widget(travelerTypeItem, {attr: {class: 'form-check form-check-inline'}}) }}
                                    {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                        <div class="p-2 second-group">
                            {{ form_row(form.departFrom, {attr: {class: 'autocomplite','placeholder': 'IÅ¡vykimo adresas'} }) }}
                        </div>

                        <div class="p-2 second-group">
                            {{ form_row(form.destination, {attr: {class: 'autocomplite','placeholder': 'Atvykimo adresas'} }) }}
                        </div>

                        <div class="p-2 second-group">
                            {{ form_widget(form.departDate) }}
                        </div>
                        <div class="p-2">
                            <div class="multi-range" data-lbound='0' data-ubound='24'>
                                {{ form_widget(form.timeFrom, {attr: {class: 'range-style'}}) }}
                                {{ form_widget(form.timeTo, {attr: {class: 'range-style'}}) }}
                                <!--       <input type='range' name="timeFrom"
                                       min='0' max='24' step='1' value='0'
                                       oninput='this.parentNode.dataset.lbound=this.value+":00";' />
                                <input type='range' name="timeTo"
                                       min='1' max='24' step='1' value='24'
                                       oninput='this.parentNode.dataset.ubound=this.value+":00";' /> -->
                            </div>
                        </div>
                        <div class="p-2 choose">
                            {% if app.request.get('smoke') == 1  %}
                                {{ form_row(form.smoke, {attr: {class: 'form-check form-check-inline', 'checked': 'checked'} }) }}
                            {% else %}
                                {{ form_row(form.smoke, {attr: {class: 'form-check form-check-inline'} }) }}
                            {% endif %}
                            {% if app.request.get('pets') == 1  %}
                                {{ form_row(form.pets, {attr: {class: 'form-check form-check-inline', 'checked': 'checked'} }) }}
                            {% else %}
                                {{ form_row(form.pets, {attr: {class: 'form-check form-check-inline'} }) }}
                            {% endif %}
                        </div>
                        <div class="p-2">
                            {{ form_widget(form.filter, {attr: {class: 'btn-form3'}}) }}
                        </div>
                </div>
                    {{ form_end(form) }}
                    <!--end-->

            </div>
            <!--= END SEARCH=-->
            <div class="row light-bg detail-options-wrap" style="min-height: 67vh; min-width: 100vw">
                {% for trip in trips %}
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-3 featured-responsive">
                        <div class="featured-trip-wrap">
                            <a href="{{ path('trip_show', {'id': trip.id}) }}">
                                <img src="images/{{ trip.travelerType }}.png" class="img-fluid" alt="#">
                                <div class="featured-title-box">
                                    <h6><span class="fas fa-map-marker-alt"></span> {{ trip.departFrom }} <i class="fas fa-long-arrow-alt-right"></i> {{ trip.destination }}</h6>
                                    <div class="bottom-info">
                                        <span class="fas fa-clock"></span> {{ trip.departTime|date("Y-m-d H:i") }}
                                        <div class="info">Papildoma informacija</div>
                                        <div class="info">
                                            {% if trip.smoke == 1 %}
                                                <i class="fas fa-smoking pinkBorder"></i>
                                            {% endif %}
                                            {% if trip.pets == 1 %}
                                                &nbsp;<i class="fas fa-paw pinkBorder"></i>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function () {
            kendo.culture("lt-LT");
            // create DateTimePicker from input HTML element
            $("#trip_search_departDate").kendoDatePicker({
                //dateInput: true,
                format: "yyyy-MM-dd"
            });
        });
    </script>
{% endblock %}
